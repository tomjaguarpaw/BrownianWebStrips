\newcommand{\toinP}{\overset{\P}\to}
\newcommand{\statementoflemresampledetosampled}{$\resamplede \toinP \sampled$ as $\epsilon \to 0$}
{
\section{Recovering the Brownian web from its horizontal half-planes}

\label{recovering-from-half-planes}

\subsection{\TODO{Basic definitions}{name}}

\FIXME{}{Presumably this needs to be moved earlier}

\newcommand{\restrictupper}{\mathcal{R}_{+}}

\begin{definition}
  For any path $f$ write $\restrictupper(f)$ for $f$ stopped at the
  first time it is outside the upper half-plane.  Then
  $\restrictupper(t \mapsto \web{s}{t}{x})$ is the trajectory of the
  web $\webnoargs$ started at the point $(s,x)$ and stopped at the first
  time it is outside the upper half-plane.

  Define $\upperhp$ to be the $\sigma$-algebra generated by the
  collection of paths $\{\restrictupper(t \mapsto \web{s}{t}{x} : s,x
  \in \R \}$.  Define $\lowerhp$ analogously.
  Write $\wholealgebra$ for the $\sigma$-algebra generated by the
  whole web, i.e.\ by all its trajectories $t \mapsto \web{s}{t}{x}$.
\end{definition}

\begin{observation}
  Note that $\upperhp$ and $\lowerhp$ are independent by Definition
  \ref{def:independent-coalescing-bm}\FIXME{}{Ron notes this is
    not sufficient as stated.}.
\end{observation}

\subsection{\TODO{Recovery argument}{Name}}

\FIXME{}{What am I going to do about this notation?}

\begin{notation}
Given a Brownian web $\webnoargs$, fix a starting point $(s,x)$ and write
$\sampled$ for the random process $t \mapsto \web{s}{t}{x}$
(which is a Brownian motion).
\end{notation}

\begin{theorem}
  $\wholealgebra = \twostrips$
\end{theorem}

We only need to show that $\wholealgebra \subseteq \twostrips$,
because the reverse inclusion follows directly from the definitions.
Now $\wholealgebra$ is generated by processes of the form $\sampled$,
so our theorem reduces to the following lemma.

\begin{lemma}
  \label{lem:sampled-twostrip-meas}
  $\sampled$ is $\twostrips$-measurable.
\end{lemma}

Equivalently, by using trajectories starting on the upper halfplane
which  ``die out'' when they hit $0$ and trajectories starting on
the lower halfplane which ``die out'' when they hit $0$ as well we
can recover all of the web's trajectories.
To see that Lemma \ref{lem:sampled-twostrip-meas} is non-trivial,
observe that the following does not work. We cannot recover a web's
trajectory by following it on, say, the upper halfplane until it
hits 0, then following a trajectory starting from that point on the
lower halfplane. The reason for this is that trajectories starting at
0 ``die out'' immediatly. Observe that this problem does not arise when
trying to use information about two overlapping half-planes, so it is
not difficult to recover the web from such.
\TODO{}{Check grammar}

To overcome this problem, for every starting point, say in the upper
halfplane, we define the following process. While the process is in
the upper halfplane, it follows the upper half-plane web until it hits
$0$, at which point it starts to follow a Brownian motion entirely
independant of the web. It follows this Brownian motion until it gets
to disatance $\epsilon$ from 0, and then follows the web of the proper
halfplane.

In section [the next subsection] we define this process, we call the
$\epsilon$ perturbed prpcess, formally.

To conclude this section we show that indeed if when taking $\epsilon$
to 0, the $\epsilon$ perturbed process converged to the trajectory of
the web almost surely, then the web is indeed measureble with respect
to both the upper halfplane web and the lower halfplance one.
{
\newcommand{\joinernoargs}{\psi}
\newcommand{\joiner}[2]{\joinernoargs_{{#1}{#2}}}
\newcommand{\joinerval}[1]{\joinernoargs_{#1}}
\begin{definition}
  \label{def:resamplede}
  We define $\resamplede$, a ``perturbed'' version of $\sampled$, as
  follows.

  \newcommand{\bmweb}{\psi}

  Let $\joinerval{t}$ be
  some Brownian motion independent of $\webnoargs$ (measurable with
  respect to $\reservoir$, say, where $\reservoir$ is independent of
  $\wholealgebra$).

  We say $\resamplede$ follows $\webnoargs$ on $[s,u]$ if
  $\resamplede_t = \web{s}{t}{\resamplede_s}$ for $t \in [s,u]$.

  That is if the trajectory of $\resamplede$ follows the trajectory of
  the web starting from point $\resamplede_s$ at time $s$ and up to time $u$.

  We say $\resamplede$ follows $\joinernoargs$ on $[s,u]$ if
  $\resamplede_t = \resamplede_s + \joinerval{t} - \joinerval{s}$ for $t \in [s,u]$.

  The perturbed process alternates between two states.  In state A it follows 
  $\webnoargs$ while in state B it follows $\bmweb$. State A is replaced with state B 
  when $\resamplede$ hits $0$, while state B is replaced by state A when 
  $\resamplede$ hits $\pm \epsilon$. 

  \begin{itemize}
  \item Starting from time $s$, follow the path $\web{s}{\cdot}{x}$
    until it hits $0$, at time $S_1$, say.
  \item Then follow $\joiner{S_1}{\cdot}$ until it hits $\pm \epsilon$, at
    time $T_1$, say.
  \item Then follow $\web{T_1}{\cdot}{\pm \epsilon}$ until it hits $0$, at
    time $S_2$, say.
  \item Continue indefinitely in this inductive fashion.
  \end{itemize}
\end{definition}
}

\begin{lemma}
  \label{lem:resamplede-to-sampled}
  \statementoflemresampledetosampled
\end{lemma}

\begin{proof}[Proof that Lemma \ref{lem:resamplede-to-sampled}
    imples Lemma \ref{lem:sampled-twostrip-meas}]
  $\resamplede$ is $\twostripsreservoir$-measurable, so we use Lemma
  \ref{lem:resamplede-to-sampled} to conclude that $\sampled$ is also
  $\twostripsreservoir$-measurable.  However, since $\sampled$ is
  actually independent of $\reservoir$ we can use a basic result on
  tensor products of Hilbert spaces (for example (1c1), p5 of
  \cite{tsirelson-completion}) to conclude that $\sampled$ is
  in fact $\twostrips$-measurable.
\end{proof}
}
